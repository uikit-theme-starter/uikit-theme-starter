// Map Multiple

section

    .uk-container

        #map-multiple(style="height: 500px;")

        script.

            var LocationData = [
                [49.2812668, -123.1035942, "26 E Hastings St, Vancouver" ], 
                [49.2814064, -123.1025187, "71 E Hastings St, Vancouver" ], 
                [49.2812336, -123.1020622, "122 E Hastings St, Vancouver" ], 
                [49.2813564, -123.1012253, "138 E Hastings St, Vancouver" ], 
                [49.2811625, -123.0985032, "242 E Hastings St, Vancouver" ]
            ];

            function initMapMultiple() {
                var map = new google.maps.Map(document.getElementById('map-multiple'));
                var bounds = new google.maps.LatLngBounds();
                var infowindow = new google.maps.InfoWindow();
                var image = 'http://www.gravatar.com/avatar/92aba1a21cb204bbbfbe357e161f2c56.jpg?s=48&d=mm';
                
                for (var i in LocationData) {

                    var p = LocationData[i];
                    var latlng = new google.maps.LatLng(p[0], p[1]);

                    bounds.extend(latlng);
                    
                    var marker = new google.maps.Marker({
                        position: latlng,
                        map: map,
                        title: p[2],
                        icon: image
                    });
                
                    google.maps.event.addListener(marker, 'click', function() {
                        infowindow.setContent(this.title);
                        infowindow.open(map, this);
                    });
                }
                
                map.fitBounds(bounds);
            }

            google.maps.event.addDomListener(window, 'load', initMapMultiple);